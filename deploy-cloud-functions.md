# 云函数部署指南

## 错误原因
错误信息 `Cannot find module 'wx-server-sdk'` 表明云函数的依赖包没有正确安装。

## 解决步骤

### 1. 在微信开发者工具中部署云函数

#### 方法一：右键部署（推荐）
1. 打开微信开发者工具
2. 右键点击 `cloudfunctions/userManager` 文件夹
3. 选择 **"上传并部署：云端安装依赖"**
4. 等待部署完成
5. 重复步骤2-4，部署 `cloudfunctions/checkinManager`

#### 方法二：使用云开发控制台
1. 在微信开发者工具中点击 **"云开发"** 按钮
2. 进入云开发控制台
3. 点击 **"云函数"** 标签
4. 点击 **"新建云函数"** 或找到现有的云函数
5. 上传代码并安装依赖

### 2. 验证部署是否成功
1. 在云开发控制台的云函数列表中
2. 查看 `userManager` 和 `checkinManager` 的状态
3. 状态应该显示为 **"部署成功"** 或 **"正常"**

### 3. 测试云函数
1. 在云开发控制台中点击云函数名称
2. 点击 **"测试"** 按钮
3. 输入测试数据验证功能是否正常

## 注意事项
- 确保云开发环境ID正确：`cloud1-9gz1gny27ca24d31`
- 确保网络连接正常
- 如果部署失败，可以尝试删除云函数后重新创建
- 部署时选择 **"云端安装依赖"** 而不是 **"本地安装依赖"**